# ClinVar Functional Data Conversion Summary

ClinVar already holds several thousand submitted records where functional consequence was provided. We converted these records to use the new XML format, so that our XML dataset and website represent the data consistently. In the conversion we retained all submitted data, although the data may be stored in a different field in the new format.

The old and new formats differ in two major aspects:

- In the old format, the functional consequence was considered a description of the variant itself. In the new format, functional consequence is considered to be part of an observation of functional data generated by experimentation. 
- In the old format, we didn't require additional data to be provided to support the functional consequence. For example, a functional consequence could be submitted without any description of the method used to test the function or the result of that experiment. The new format requires several fields to be provided for an observation of functional data.

Due to the large number of records to convert and the differences in the formats, we made some assumptions about how to convert from the old format to the new format in an automated way. These assumptions were supported by spot-checking a number of records. Based on this manual review, we defined four different cases and converted the XML for each one as described in the table below.

Each submitter who previously provided functional consequence will receive an email from us, letting them know which records we converted and which data were affected. If we updated a record in the wrong way, we will be happy to work with submitters to make an update using the new format. Additionally, we will be happy to work with any submitter who would like to submit an update to improve how their functional data are represented in ClinVar.

## Conversion Cases

| Case  | Data on the submitted record | Action | Rationale based on spot-checking |
|-------|------------------------------|--------|----------------------------------|
| Case 1 |- a functional consequence for the variant<br>- a single observation of the variant with some data provided as a "Result" |- The existing observation was converted to an observation of functional data,  using the values submitted for Functional consequence, Result, and any other fields on the observation.<br>- Any fields that are required for functional data in the new format but missing in the record were filled in with "not provided".<br>- The classification type was changed from GermlineClassification to NoClassification, "evidence only".<br>- If a classification had been provided previously, the submitted classification was preserved in a comment on the classification, e.g. '"Pathogenic" was previously submitted as the classification for the variant. However, the classification appeared to be based only on an observation of functional data so it was converted to no classification on 20245-04-28.' | For these cases the field "Result" most often describes an experimental result. With a single observation on the record, the functional consequence is typically related to the submitted "Result".<br><br> Additionally, variant classifications are not expected to be based solely on functional data. A submitted record with a classification should include other types of observations of the variant. |
| Case 2 |-  a functional consequence for the variant<br>- a single observation of the variant with no "Result" |- The functional consequence element was removed.<br>- In its place, a comment on the observation was added e.g. '"protein truncation" was previously submitted as the functional consequence, but without providing the result of a functional assay.'<br>- The classification was retained as it was provided. | For these cases, there was no evidence provided to show that the functional consequence was experimentally verified. Often the value provided for functional consequence was not informative. We added the comment so that no submitted information was lost. |
| Case 3 |- a functional consequence for the variant<br>- more than one observation of the variant<br>- one or more of those observations have a "Result" |- Each observation with a "Result" was converted to the new format using the values submitted for Functional consequence, Result, and any other fields on the observation.<br>- Any fields that are required for functional data in the new format but missing in the record were filled in with "not provided".<br>- All submitted values of Functional consequence were added to each observation with a "Result".<br>- If all observations have a "Result" and the classification was submitted as "not provided", we changed the classification type to NoClassification, "evidence only". The submitted classification was preserved in a comment on the classification, e.g. "Not provided" was previously submitted as the classification for the variant. It was converted to no classification on 20245-04-28.<br>- If a classification was provided, it was retained. | We applied all values of Functional consequence to each observation with a "Result" because we have no way to determine if the values apply to all observations, and if not, how to match them up. If errors in conversion are found, submitters are encouraged to contact us for help in updating the records.<br><br> Additionally, variant classifications are not expected to be based solely on functional data. A submitted record with a classification should include other types of observations of the variant. So records that appear to have only functional data (based on the "Result" field) are not expected to have a classification. An observation without a "Result" is likely to represent clinical data, so records with this type of observation retained their classification, if it was provided. |
| Case 4 |- a functional consequence for the variant<br>- more than one observation of the variant<br>- no observation has a "Result" |- The functional consequence element was removed.<br>- In its place, a comment on each observation was added e.g. '"protein truncation" was previously submitted as the functional consequence, but without providing the result of a functional assay.'<br>- The classification was retained as it was provided. | For these cases, there was no evidence provided to show that the functional consequence was experimentally verified. Often the value provided for functional consequence was not informative. We added the comment so that no submitted information was not lost. |